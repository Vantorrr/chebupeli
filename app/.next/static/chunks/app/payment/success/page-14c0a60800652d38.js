(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[478],{2065:function(e,t,s){Promise.resolve().then(s.bind(s,8002))},8002:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var r=s(7437),n=s(2265),l=s(4033),a=s(1425),i=s(7323);function c(){let e=(0,l.useRouter)(),t=(0,l.useSearchParams)(),{webApp:s}=(0,a.useTelegram)(),[c,o]=(0,n.useState)(null),[d,u]=(0,n.useState)(!0);(0,n.useEffect)(()=>{s&&(s.ready(),s.expand());let e=null==t?void 0:t.get("paymentId"),r=null==t?void 0:t.get("tariffId");e&&r?x(e,r):u(!1)},[s,t]);let x=async(e,t)=>{try{o({qrCode:"LPA:1$your-provider.com$activation-code-here",activationCode:"SM-DP+ Address: your-provider.com\nActivation Code: ABC123XYZ"}),u(!1)}catch(e){console.error("Ошибка загрузки eSIM:",e),u(!1)}};return d?(0,r.jsx)("div",{className:"min-h-screen bg-white flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-velaro-orange mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Загрузка данных eSIM..."})]})}):(0,r.jsx)("div",{className:"min-h-screen bg-white p-6",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("span",{className:"text-3xl",children:"✓"})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Оплата успешна!"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Ваш eSIM готов к использованию"})]}),c&&(0,r.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6 mb-6",children:[(0,r.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"Инструкция по установке:"}),c.qrCode&&(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Отсканируйте QR-код:"}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg flex justify-center",children:(0,r.jsx)(i.ZP,{value:c.qrCode,size:200})})]}),c.activationCode&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Или используйте код активации:"}),(0,r.jsx)("div",{className:"bg-white p-4 rounded-lg",children:(0,r.jsx)("p",{className:"text-sm font-mono break-all",children:c.activationCode})})]}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,r.jsx)("p",{children:"1. Откройте Настройки → Сотовая связь"}),(0,r.jsx)("p",{children:"2. Нажмите \xabДобавить сотовый тариф\xbb"}),(0,r.jsx)("p",{children:"3. Отсканируйте QR-код или введите код вручную"}),(0,r.jsx)("p",{children:"4. Следуйте инструкциям на экране"})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsx)("button",{onClick:()=>e.push("/my-esims"),className:"w-full bg-velaro-gradient text-white py-4 px-6 rounded-xl font-semibold text-lg",children:"Мои eSIM"}),(0,r.jsx)("button",{onClick:()=>e.push("/"),className:"w-full bg-gray-100 text-gray-700 py-4 px-6 rounded-xl font-semibold text-lg",children:"На главную"})]})]})})}},1425:function(e,t,s){"use strict";s.r(t),s.d(t,{TelegramProvider:function(){return a},useTelegram:function(){return i}});var r=s(7437),n=s(2265);let l=(0,n.createContext)({webApp:null});function a(e){let{children:t}=e,[s,a]=(0,n.useState)(null);return(0,n.useEffect)(()=>{{var e;let t=null===(e=window.Telegram)||void 0===e?void 0:e.WebApp;t&&a(t)}},[]),(0,r.jsx)(l.Provider,{value:{webApp:s},children:t})}function i(){return(0,n.useContext)(l)}},622:function(e,t,s){"use strict";var r=s(2265),n=Symbol.for("react.element"),l=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,s){var r,c={},o=null,d=null;for(r in void 0!==s&&(o=""+s),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,r)&&!i.hasOwnProperty(r)&&(c[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===c[r]&&(c[r]=t[r]);return{$$typeof:n,type:e,key:o,ref:d,props:c,_owner:a.current}}t.jsx=c,t.jsxs=c},7437:function(e,t,s){"use strict";e.exports=s(622)},4033:function(e,t,s){e.exports=s(5313)}},function(e){e.O(0,[323,971,938,744],function(){return e(e.s=2065)}),_N_E=e.O()}]);